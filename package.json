{
    "name": "@eradani-inc/eradani-connect-template",
    "version": "4.0.0-alpha.0",
    "description": "Eradani Connect Bidirectional Web Service Template",
    "keywords": [
        "Eradani",
        "IBMi"
    ],
    "homepage": "https://github.com/eradani-inc/eradani-inout-template#readme",
    "bugs": {
        "url": "https://github.com/eradani-inc/eradani-inout-template/issues"
    },
    "repository": {
        "type": "git",
        "url": "git+https://github.com/eradani-inc/eradani-inout-template.git"
    },
    "license": "Proprietary",
    "author": "Eradani",
    "main": "src/app.ts",
    "scripts": {
        "setup": "npm run install-shx && npm run link-keys && npm run reset-git && npm run create-user && npm run create-objects && npm run install-deps && npm install && npm run build-connectors && npm run generate-config && (npm run build-qsys || npm run build-interfaces) && npm run package:release && npm run update-eol && npm run set-permissions",
        "build-qsys": "(shx echo $OSTYPE | shx grep os400 && make -C qsys) || shx echo \"IBM i Asset Build Failed\"",
        "build-interfaces": "make -C qsys library -i && make -C qsys generatedtssrc -i",
        "build-connectors": "cd node_modules/@eradani-inc/ec-client && make -C native library && make -C native",
        "create-user": "(system \"CRTUSRPRF USRPRF(ECNCT) INLPGM(*NONE) INLMNU(*SIGNOFF) TEXT('Eradani Connect user profile') JOBD(QGPL/QDFTJOBD) MSGQ(QUSRSYS/ECNCT) PWDEXPITV(*NOMAX)\" || shx echo \"ECNCT User Creation Failed\")",
        "create-objects": "((system \"CRTLIB LIB(ECNCTSBS) TEXT('Eradani Connect Subsystem library')\" || shx echo \"Subsystem Library Already Exists\") && system \"CRTCLS CLS(ECNCTSBS/ECNCTIO) TEXT('Class for Eradani Connect subsystem')\" && system \"CRTJOBQ JOBQ(ECNCTSBS/ECNCTIO) TEXT('Job queue for Eradani Connect jobs')\" && system \"CRTJOBD JOBD(ECNCTSBS/ECNCTIO) JOBQ(ECNCTSBS/ECNCTIO) TEXT('Eradani Connect job description') USER(ECNCT) PRTTXT('Eradani Connect jobs') RQSDTA('call PGM(QP2SHELL) PARM(''/QOpenSys/opt/eradani/eradani-connect-template/start.sh'')')\" && system \"CRTSBSD SBSD(ECNCTSBS/ECNCTIO) POOLS((1 *BASE)) MAXJOBS(30) TEXT('Eradani Connect subsystem description')\" && system \"ADDJOBQE SBSD(ECNCTSBS/ECNCTIO) JOBQ(ECNCTSBS/ECNCTIO) MAXACT(15)\" && system \"ADDRTGE SBSD(ECNCTSBS/ECNCTIO) SEQNBR(9999) CMPVAL(*ANY) PGM(QSYS/QCMD) CLS(ECNCTSBS/ECNCTIO)\" && system \"ADDAJE SBSD(ECNCTSBS/ECNCTIO) JOB(ECNCTIO) JOBD(ECNCTSBS/ECNCTIO)\") || shx echo \"QSYS Object Creation Failed. Consult terminal output for details.\"",
        "update-eol": "shx mv start.sh start.sh.orig && tr -d '\r' < start.sh.orig > start.sh && shx rm start.sh.orig",
        "set-permissions": "(shx chmod a+x start.sh) && (system \"CHGOBJOWN OBJ(ECNCTSBS) OBJTYPE(*LIB) NEWOWN(ECNCT)\" && system \"CHGOWN OBJ('/QSYS.lib/ECNCTSBS.lib/*') NEWOWN(ECNCT)\" && system \"CHGOBJOWN OBJ(ECNCTAPP) OBJTYPE(*LIB) NEWOWN(ECNCT)\" && system \"CHGOWN OBJ('/QSYS.lib/ECNCTAPP.lib/*') NEWOWN(ECNCT)\" && system \"CHGOWN OBJ('/QOpenSys/opt/eradani/eradani-connect-template/') NEWOWN(ECNCT) SUBTREE(*ALL)\") || shx echo \"Object Authority Change Failed. Consult terminal output for details.\"",
        "package:dev": "npm run format && npm run lint && npm run build-qsys && npm run build:dev && npm run copy && npm run config && npm run install-npm && npm run test && npm run docs",
        "package:fresh": "npm run clean && npm run format && npm run lint && npm run build-qsys && npm run build:dev && npm run copy && npm run config && npm run install-npm && npm run test && npm run docs",
        "package:release": "npm run clean && npm run format && npm run lint && npm run build-qsys &&npm run build:release && npm run copy && npm run config && npm run install-npm && npm run test && npm run docs",
        "start": "node dist/src/app.js",
        "start:debug": "node --inspect dist/src/app.js && printf \"\u001b[1;36mOpen an SSH Tunnel on your local machine with \u001b[1;32mssh -L 9229:localhost:9229 user@your.server.address\u001b[0m\"&& printf \"\u001b[1;36mThen the Chrome interactive debugger \u001b[1;32mopen chrome://inspect in Google Chrome and click Open Dedicated Development Tools for Node\u001b[0m\"",
        "test": "npx mocha ./dist/tests",
        "clean": "shx rm -rf dist",
        "docs": "shx echo $OSTYPE | shx grep os400 || npx typedoc --out docs src && printf \"\u001b[1;36mView Generated Documentation with \u001b[1;32mnpm run view-docs\u001b[0m\"",
        "install-shx": "npm install -g shx && npx shx ln -s /QOpenSys/pkgs/lib/nodejs14/bin/shx /QOpenSys/pkgs/bin/shx || echo \"Failed to install shx\"",
        "install-npm": "cd dist && shx rm -rf node_modules && shx ln -s ../node_modules node_modules && cd ..",
        "install-deps": "((shx echo $OSTYPE | shx grep os400 && yum group install \"Development Tools\" -y && yum install git make-gnu unzip nodejs14 unixODBC unixODBC-devel -y) || shx echo \"Installing without Yum\") && (shx which pm2 || npm install -g pm2 && shx ln -s /QOpenSys/pkgs/lib/nodejs14/bin/pm2 /QOpenSys/pkgs/bin/pm2 || shx echo \"PM2 already set up\")",
        "reset-git": "((shx rm -rf .git && git init && git add . && git commit -am \"chore(Setup): Clone Eradani TypeScript Template App v4.0.0\") || shx echo \"No remote git repo connected\") && printf \"\u001b[1;32m===== Disconnected from template GitHub Repo. You should connect to your own with [git remote add origin <url>] =====\u001b[0m\"",
        "link-keys": "(shx ln -s /QOpenSys/opt/eradani/.npmrc .npmrc) || shx echo \"Product Key Link Failed. Consult terminal output for details.\"",
        "build:dev": "npx ttsc --p ./tsconfig.json",
        "build:watch": "npx ttsc --p ./tsconfig.json --w",
        "build:release": "npx ttsc --p ./tsconfig.json --sourceMap false",
        "format": "npx prettier --write \"./**/*.ts\" \"./**/*.js\" \"./**/*.json\"",
        "lint": "npx eslint \"src/**\"",
        "copy": "(shx ln -s ../logs dist/logs || shx echo Logs directory already exists) && shx cp -r tests qsys LICENSE README.md package.json package-lock.json dist && shx cp -r src/interfaces dist/src",
        "config": "shx cp -r src/config dist/src",
        "generate-config": "shx cp ./src/config/default.json ./src/config/development.json && mkdir ./src/config/keys && npm run rotate-keys",
        "rotate-keys": "(shx rm ./src/config/keys/*.key || shx echo \"Generating first-time keys\") && ssh-keygen -f ./src/config/keys/jwt-private.key -P '' && shx mv ./src/config/keys/jwt-private.key.pub ./src/config/keys/jwt-public.key",
        "view-docs": "start docs/index.html"
    },
    "dependencies": {
        "@eradani-inc/ec-client": "^3.6.1",
        "@eradani-inc/ecc-router": "^0.6.1",
        "@eradani-inc/eradani-connect": "^2.6.2",
        "@types/cors": "^2.8.12",
        "@types/es6-promisify": "^6.0.0",
        "@types/express": "^4.17.13",
        "@types/express-validator": "^3.0.0",
        "@types/jsonwebtoken": "^8.5.5",
        "@types/morgan": "^1.9.3",
        "@types/passport-http-bearer": "^1.0.37",
        "@types/swagger-stats": "^0.95.4",
        "@types/swagger-ui-express": "^4.1.3",
        "@typescript-eslint/eslint-plugin": "^4.31.1",
        "@typescript-eslint/eslint-plugin-tslint": "^4.31.1",
        "@typescript-eslint/parser": "^4.31.1",
        "axios": "^0.21.4",
        "body-parser": "^1.19.0",
        "config": "^3.3.6",
        "cors": "^2.8.5",
        "download": "^8.0.0",
        "es6-promisify": "^7.0.0",
        "eslint-import-resolver-typescript": "^2.5.0",
        "express": "^4.17.1",
        "express-oas-generator": "^1.0.41",
        "express-validator": "^6.12.1",
        "fast-safe-stringify": "^2.1.1",
        "https-proxy-agent": "^5.0.0",
        "jsonwebtoken": "^8.5.1",
        "lodash": "^4.17.21",
        "morgan": "^1.10.0",
        "passport": "^0.4.1",
        "passport-http-bearer": "^1.0.1",
        "sequelize": "^6.6.5",
        "swagger-stats": "^0.99.2",
        "swagger-ui-express": "^4.1.6",
        "winston": "^3.3.3",
        "winston-daily-rotate-file": "^4.5.5"
    },
    "devDependencies": {
        "@eradani-inc/ec-generate": "^3.5.6",
        "@types/chai": "^4.2.21",
        "@types/config": "0.0.39",
        "@types/download": "^8.0.1",
        "@types/lodash": "^4.14.172",
        "@types/mocha": "^9.0.0",
        "@types/node": "^14.17.16",
        "@typescript-eslint/eslint-plugin": "^4.31.1",
        "@typescript-eslint/eslint-plugin-tslint": "^4.31.1",
        "@typescript-eslint/parser": "^4.31.1",
        "chai": "^4.3.4",
        "chai-http": "^4.3.0",
        "eslint": "^7.32.0",
        "eslint-config-airbnb-base": "^14.2.1",
        "eslint-config-prettier": "^8.3.0",
        "eslint-import-resolver-typescript": "^2.5.0",
        "eslint-plugin-filenames": "^1.3.2",
        "eslint-plugin-import": "^2.24.2",
        "eslint-plugin-prettier": "^4.0.0",
        "eslint-plugin-promise": "^5.1.0",
        "mocha": "^9.1.1",
        "prettier": "^2.4.0",
        "shx": "^0.3.3",
        "sinon": "^11.1.2",
        "source-map-support": "^0.5.20",
        "tslint": "^6.0.0",
        "ttypescript": "^1.5.12",
        "typedoc": "^0.22.3",
        "typescript": "^4.4.3",
        "typescript-transform-paths": "^3.3.1"
    }
}
