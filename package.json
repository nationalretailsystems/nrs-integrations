{
    "name": "eradani-connect-template",
    "version": "2.5.2",
    "description": "Eradani Connect Template Application",
    "main": "dist/src/app.js",
    "scripts": {
        "start": "node dist/src/app.js",
        "start:debug": "node --inspect dist/src/app.js",
        "start:pm2": "pm2 start",
        "stop:pm2": "pm2 stop eradani-connect-template",
        "test": "mocha ./dist/tests",
        "setup": "npm run install-deps && npm install && npm run generate-config && npm run package:release && npm run update-eol",
        "clean": "rm -rf dist",
        "docs": "typedoc --out docs src && printf \"\u001b[1;36mView Generated Documentation with \u001b[1;32mnpm run view-docs\u001b[0m\"",
        "install-npm": "cd dist && rm -rf node_modules && shx ln -s ../node_modules node_modules && cd ..",
        "install-deps": "((ls /QOpenSys && yum group install \"Development Tools\" -y && yum install git make-gnu unzip nodejs14 unixODBC unixODBC-devel -y) || echo \"Installing without Yum\") && (which pm2 || (npm install -g pm2 && ln -s /QOpenSys/pkgs/lib/nodejs14/bin/pm2 /QOpenSys/pkgs/bin/pm2) || echo \"PM2 already set up\")",
        "reset-git": "((rm -rf .git && git init && git add . && git commit -am \"chore(Setup): Clone Eradani TypeScript Template App v2.1.0\") || echo \"No remote git repo connected\") && echo \"===== Disconnected from template GitHub Repo. You should connect to your own with [git remote add origin <url>] =====\"",
        "link-keys": "(ln -s /QOpenSys/opt/eradani/.npmrc .npmrc) || echo \"Product Key Link Failed. Consult terminal output for details.\"",
        "create-user": "(system \"CRTUSRPRF USRPRF(ECNCT) INLPGM(*NONE) INLMNU(*SIGNOFF) TEXT('Eradani Connect user profile') JOBD(QGPL/QDFTJOBD) MSGQ(QUSRSYS/ECNCT) PWDEXPITV(*NOMAX)\") || echo \"ECNCT User Creation Failed\"",
        "create-objects": "((system \"CRTLIB LIB(ECNCTSBS) TEXT('Eradani Connect Subsystem library')\" || echo \"Subsystem Library Creation Failed\") && system \"CRTCLS CLS(ECNCTSBS/ECNCTIN) TEXT('Class for Eradani Connect subsystem')\" && system \"CRTJOBQ JOBQ(ECNCTSBS/ECNCTIN) TEXT('Job queue for Eradani Connect jobs')\" && system \"CRTJOBD JOBD(ECNCTSBS/ECNCTIN) JOBQ(ECNCTSBS/ECNCTIN) TEXT('Eradani Connect job description') USER(ECNCT) PRTTXT('Eradani Connect jobs') RQSDTA('call PGM(QP2SHELL) PARM(''/QOpenSys/opt/eradani/eradani-connect-template/start.sh'')')\" && system \"CRTSBSD SBSD(ECNCTSBS/ECNCTIN) POOLS((1 *BASE)) MAXJOBS(30) TEXT('Eradani Connect subsystem description')\" && system \"ADDJOBQE SBSD(ECNCTSBS/ECNCTIN) JOBQ(ECNCTSBS/ECNCTIN) MAXACT(15)\" && system \"ADDRTGE SBSD(ECNCTSBS/ECNCTIN) SEQNBR(9999) CMPVAL(*ANY) PGM(QSYS/QCMD) CLS(ECNCTSBS/ECNCTIN)\" && system \"ADDAJE SBSD(ECNCTSBS/ECNCTIN) JOB(ECNCTIN) JOBD(ECNCTSBS/ECNCTIN)\") || echo \"QSYS Object Creation Failed. Consult terminal output for details.\"",
        "update-eol": "mv start.sh start.sh.orig && tr -d '\r' < start.sh.orig > start.sh",
        "set-permissions": "(chmod a+x start.sh) && (system \"CHGOBJOWN OBJ(ECNCTSBS) OBJTYPE(*LIB) NEWOWN(ECNCT)\" && system \"CHGOWN OBJ('/QSYS.lib/ECNCTSBS.lib/*') NEWOWN(ECNCT)\" && system \"CHGOBJOWN OBJ(ECNCTAPP) OBJTYPE(*LIB) NEWOWN(ECNCT)\" && system \"CHGOWN OBJ('/QSYS.lib/ECNCTAPP.lib/*') NEWOWN(ECNCT)\" && system \"CHGOWN OBJ('/QOpenSys/opt/eradani/eradani-connect-template/') NEWOWN(ECNCT) SUBTREE(*ALL)\") || echo \"Object Authority Change Failed. Consult terminal output for details.\"",
        "start-nginx": "nginx -s reload || nginx",
        "package:dev": "npm run format && npm run lint && npm run build:dev && npm run copy:dev && npm run config && npm run install-npm && npm run test && npm run docs",
        "package:fresh": "npm run clean && npm run format && npm run lint && npm run build:dev && npm run copy:dev && npm run config && npm run install-npm && npm run test && npm run docs",
        "package:release": "npm run clean && npm run format && npm run build:release && npm run build-native && npm run copy:release && npm run config && npm run install-npm && npm run test && npm run docs",
        "build:dev": "tsc",
        "build:release": "tsc --sourceMap false",
        "build-native": "(export LIB=ECNCTAPP && cd native && gmake init && gmake clean && gmake && cd ..) || echo \"IBM i Asset Build Failed\"",
        "update-native": "git pull && npm run build",
        "format": "prettier --write \"./**/*.ts\" \"./**/*.js\" \"./**/*.json\"",
        "lint": "eslint \"src/**\"",
        "copy:dev": "(shx mkdir dist/logs || shx echo Logs directory already exists) && shx cp -r tests native LICENSE README.md package.json dist",
        "copy:release": "shx mkdir dist/logs && shx cp -r tests native LICENSE README.md package.json dist",
        "config": "shx cp -r config dist",
        "generate-config": "ssh-keygen -f ./config/keys/jwt-private.key -P '' && mv ./config/keys/jwt-private.key.pub ./config/keys/jwt-public.key && cp ./config/development.json.sample ./config/development.json && cp ./config/development.json ./config/production.json && echo {} > ./config/testing.json",
        "bump-version": "npm version -m \"chore(Version): Increment to %s\"",
        "view-docs": "start docs/index.html"
    },
    "repository": {
        "type": "git",
        "url": "git+https://github.com/eradani-inc/eradani-connect-template.git"
    },
    "author": "Eradani",
    "homepage": "https://github.com/eradani-inc/eradani-connect-template#readme",
    "dependencies": {
        "@eradani-inc/ec-client": "^3.5.1-alpha.5",
        "@eradani-inc/ecc-router": "^0.5.6",
        "@eradani-inc/eradani-connect": "^2.5.2",
        "@types/express": "^4.17.12",
        "@types/express-validator": "^3.0.0",
        "axios": "^0.21.1",
        "download": "^8.0.0",
        "body-parser": "^1.19.0",
        "cors": "^2.8.5",
        "es6-promisify": "^6.1.1",
        "express": "^4.17.1",
        "express-jwt": "^5.3.3",
        "express-validator": "^5.3.0",
        "https-proxy-agent": "^5.0.0",
        "jsonwebtoken": "^8.5.0",
        "lodash": "^4.17.21",
        "morgan": "^1.10.0",
        "safe-json-stringify": "^1.2.0",
        "sequelize": "^5.22.4",
        "winston": "^3.3.3",
        "winston-daily-rotate-file": "^3.10.0"
    },
    "devDependencies": {
        "@eradani-inc/ec-generate": "^3.5.3",
        "@types/chai": "^4.2.18",
        "@types/download": "^6.2.4",
        "@types/lodash": "^4.14.170",
        "@types/mocha": "^5.2.7",
        "@types/node": "^13.13.52",
        "@types/safe-json-stringify": "^1.1.2",
        "@typescript-eslint/eslint-plugin": "^2.34.0",
        "@typescript-eslint/eslint-plugin-tslint": "^2.34.0",
        "@typescript-eslint/parser": "^2.34.0",
        "chai": "^4.3.4",
        "chai-http": "^4.3.0",
        "eslint": "^5.16.0",
        "eslint-config-airbnb-base": "^13.2.0",
        "eslint-config-prettier": "^4.3.0",
        "eslint-import-resolver-typescript": "^2.4.0",
        "eslint-plugin-filenames": "^1.3.2",
        "eslint-plugin-import": "^2.23.4",
        "eslint-plugin-prettier": "^3.4.0",
        "eslint-plugin-promise": "^4.3.1",
        "mocha": "^7.2.0",
        "npm-run-all": "^4.1.5",
        "prettier": "^1.19.1",
        "shx": "^0.3.3",
        "sinon": "^8.1.1",
        "source-map-support": "^0.5.19",
        "tsconfig-paths": "^3.9.0",
        "tslint": "^6.1.3",
        "ttypescript": "^1.5.12",
        "typedoc": "^0.16.11",
        "typescript": "^4.3.2",
        "typescript-transform-paths": "^2.2.4"
    }
}
